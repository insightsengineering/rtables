# Construct split result object

These functions can be used to create or add to a split result in
functions which implement core splitting or post-processing within a
custom split function.

## Usage

``` r
make_split_result(
  values,
  datasplit,
  labels,
  extras = NULL,
  subset_exprs = vector("list", length(values))
)

add_to_split_result(
  splres,
  values,
  datasplit,
  labels,
  extras = NULL,
  subset_exprs = NULL
)
```

## Arguments

- values:

  (`character` or `list(SplitValue)`)  
  the values associated with each facet.

- datasplit:

  (`list(data.frame)`)  
  the facet data for each facet generated in the split.

- labels:

  (`character`)  
  the labels associated with each facet.

- extras:

  (`list` or `NULL`)  
  extra values associated with each of the facets which will be passed
  to analysis functions applied within the facet.

- subset_exprs:

  (`list`)  
  A list of subsetting expressions (e.g., created with
  [`quote()`](https://rdrr.io/r/base/substitute.html)) to be used during
  column subsetting.

- splres:

  (`list`)  
  a list representing the result of splitting.

## Value

A named list representing the facets generated by the split with
elements `values`, `datasplit`, and `labels`, which are the same length
and correspond to each other element-wise.

## Details

These functions performs various housekeeping tasks to ensure that the
split result list is as the rtables internals expect it, most of which
are not relevant to end users.

## See also

Other make_custom_split:
[`add_combo_facet()`](https://insightsengineering.github.io/rtables/reference/add_combo_facet.md),
[`drop_facet_levels()`](https://insightsengineering.github.io/rtables/reference/drop_facet_levels.md),
[`make_split_fun()`](https://insightsengineering.github.io/rtables/reference/make_split_fun.md),
[`trim_levels_in_facets()`](https://insightsengineering.github.io/rtables/reference/trim_levels_in_facets.md)

Other make_custom_split:
[`add_combo_facet()`](https://insightsengineering.github.io/rtables/reference/add_combo_facet.md),
[`drop_facet_levels()`](https://insightsengineering.github.io/rtables/reference/drop_facet_levels.md),
[`make_split_fun()`](https://insightsengineering.github.io/rtables/reference/make_split_fun.md),
[`trim_levels_in_facets()`](https://insightsengineering.github.io/rtables/reference/trim_levels_in_facets.md)

## Examples

``` r
splres <- make_split_result(
  values = c("hi", "lo"),
  datasplit = list(hi = mtcars, lo = mtcars[1:10, ]),
  labels = c("more data", "less data"),
  subset_exprs = list(expression(TRUE), expression(seq_along(wt) <= 10))
)

splres2 <- add_to_split_result(splres,
  values = "med",
  datasplit = list(med = mtcars[1:20, ]),
  labels = "kinda some data",
  subset_exprs = quote(seq_along(wt) <= 20)
)
```
