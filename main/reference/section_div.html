<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Section dividers accessor and setter — section_div • rtables</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Section dividers accessor and setter — section_div"><meta name="description" content="section_div can be used to set or get the section divider for a table object
produced by build_table(). When assigned in post-processing (section_div&amp;lt;-)
the table can have a section divider after every row, each assigned independently.
If assigning during layout creation, only split_rows_by() (and its related row-wise
splits) and analyze() have a section_div parameter that will produce separators
between split sections and data subgroups, respectively. These two approaches
generally should not be mixed (see Details)."><meta property="og:description" content="section_div can be used to set or get the section divider for a table object
produced by build_table(). When assigned in post-processing (section_div&amp;lt;-)
the table can have a section divider after every row, each assigned independently.
If assigning during layout creation, only split_rows_by() (and its related row-wise
splits) and analyze() have a section_div parameter that will produce separators
between split sections and data subgroups, respectively. These two approaches
generally should not be mixed (see Details)."><meta property="og:image" content="https://insightsengineering.github.io/rtables/logo.svg"><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rtables</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.13.9005</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rtables.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/exploratory_analysis.html">Exploratory Analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guided Tour</h6></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate.html">A Guided Tour of rtables - Intermediate</a></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate_translating_shells.html">Intermediate rtables - Translating Shells To Layouts</a></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate_afun_reqs.html">Intermediate rtables - Identifying Required Analysis Behavior</a></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate_split_reqs.html">Intermediate rtables - Identifying Required Faceting Behavior</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Clinical Trials</h6></li>
    <li><a class="dropdown-item" href="../articles/clinical_trials.html">Example Clinical Trials Tables</a></li>
    <li><a class="dropdown-item" href="../articles/baseline.html">Comparing Against Baselines or Control</a></li>
    <li><a class="dropdown-item" href="../articles/ard_how_to.html">Generating QC-Ready Result Data Frames (ARDs) from Tables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Table Customization</h6></li>
    <li><a class="dropdown-item" href="../articles/custom_appearance.html">Customizing Appearance</a></li>
    <li><a class="dropdown-item" href="../articles/title_footer.html">Titles, Footers, and Referential Footnotes</a></li>
    <li><a class="dropdown-item" href="../articles/sorting_pruning.html">Pruning and Sorting Tables</a></li>
    <li><a class="dropdown-item" href="../articles/col_counts.html">Column Counts and Formats</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-developer-guide" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Developer Guide</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-developer-guide"><li><a class="dropdown-item" href="../articles/dev-guide/dg_split_machinery.html">Split Machinery</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_tabulation.html">Tabulation</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_table_hierarchy.html">Table Hierarchy</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_debug_rtables.html">Debugging in {rtables} and Beyond</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_notes.html">Sparse Notes on {rtables} Internals</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports"><li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/rtables"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Section dividers accessor and setter</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/rtables/blob/main/R/tree_accessors.R" class="external-link"><code>R/tree_accessors.R</code></a></small>
      <div class="d-none name"><code>section_div.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>section_div</code> can be used to set or get the section divider for a table object
produced by <code><a href="build_table.html">build_table()</a></code>. When assigned in post-processing (<code>section_div&lt;-</code>)
the table can have a section divider after every row, each assigned independently.
If assigning during layout creation, only <code><a href="split_rows_by.html">split_rows_by()</a></code> (and its related row-wise
splits) and <code><a href="analyze.html">analyze()</a></code> have a <code>section_div</code> parameter that will produce separators
between split sections and data subgroups, respectively. These two approaches
generally should not be mixed (see Details).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'VTableTree'</span></span>
<span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'list'</span></span>
<span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'TableRow'</span></span>
<span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span>, only_sep_sections <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'VTableTree'</span></span>
<span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span>, only_sep_sections <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'TableRow'</span></span>
<span><span class="fu">section_div</span><span class="op">(</span><span class="va">obj</span>, only_sep_sections <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'PreDataTableLayouts'</span></span>
<span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'VTableTree'</span></span>
<span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'PreDataTableLayouts'</span></span>
<span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'VTableTree'</span></span>
<span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">top_level_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'PreDataTableLayouts'</span></span>
<span><span class="fu">top_level_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">top_level_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'PreDataTableLayouts'</span></span>
<span><span class="fu">top_level_section_div</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">section_div_info</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">section_div_at_path</span><span class="op">(</span><span class="va">obj</span>, <span class="va">path</span>, labelrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">section_div_at_path</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  .prev_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  labelrow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tt_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"any"</span>, <span class="st">"row"</span>, <span class="st">"table"</span>, <span class="st">"elemtable"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>(<code>VTableTree</code>)<br> table object. This can be of any class that inherits from <code>VTableTree</code>
or <code>TableRow</code>/<code>LabelRow</code>.</p></dd>


<dt id="arg-only-sep-sections">only_sep_sections<a class="anchor" aria-label="anchor" href="#arg-only-sep-sections"></a></dt>
<dd><p>(<code>flag</code>)<br> defaults to <code>FALSE</code> for <code>section_div&lt;-</code>. Allows
you to set the section divider only for sections that are splits or analyses if the number of
values is less than the number of rows in the table. If <code>TRUE</code>, the section divider will
be set for all rows of the table.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>(<code>character</code>)<br> vector of strings to use as section dividers
(a single string for <code>section_div_at_path&lt;-</code>). Each string's character(s)
are repeated to the full width of the printed table. Non-<code>NA</code> strings
will result in a trailing separator at the associated location (see Details);
values of <code>NA_character_</code> result in no visible divider when the table is printed/exported.
For <code>section_div&lt;-</code>, <code>value</code>'s length should the number of rows in <code>obj</code>,
when    <code>only_sep_sections</code> is <code>FALSE</code> and should be less than or equal to
the maximum number of nested split/analyze steps anywhere in the
layout corresponding to the table when <code>only_sep_sections</code> is <code>TRUE</code>.
See the Details section below for more information.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>(<code>character</code>)<br> The path of the element(s) to
set section_div(s) on. Can include <code>'*'</code> wildcards for
<code>section_div_at_path&lt;-</code> only.</p></dd>


<dt id="arg-labelrow">labelrow<a class="anchor" aria-label="anchor" href="#arg-labelrow"></a></dt>
<dd><p>(<code>logical(1)</code>)<br> For <code>section_div_at_path</code>,
when <code>path</code> leads to a subtable, indicates whether the section
div be set/retrieved for the subtable (<code>FALSE</code>, the default) or the
subtable's label row (<code>TRUE</code>). Ignored when <code>path</code> resolves to an
individual row.</p></dd>


<dt id="arg--prev-path">.prev_path<a class="anchor" aria-label="anchor" href="#arg--prev-path"></a></dt>
<dd><p>(<code>character</code>)<br> Internal detail, do not manually set.</p></dd>


<dt id="arg-tt-type">tt_type<a class="anchor" aria-label="anchor" href="#arg-tt-type"></a></dt>
<dd><p>(<code>character(1)</code>)<br> One of "any", "row", "table", "elemtable";
when testing existence or resolving a path with "*" wildcards,
this indicates a restriction on <em>the final element the path resolves to</em>.
E.g., for "table", possible paths which match the structure of the
wild-card path but resolve to an individual row will not be considered matching.
The value "elemtable" indicates an Elementary table, i.e., one representing a
single variable within an <code>analyze</code> call.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The section divider string. Each line that does not have a trailing separator
will have <code>NA_character_</code> as section divider.</p>
<p>For <code>section_div_info</code>, a dataframe containing <code>label</code>,
<code>name</code>, "node_class", <code>path</code>, <code>trailing_sep</code> (the effective divider, whether
inherited or not), <code>self_section_div</code> (the divider set on the
row itself), and <code>sect_div_from_path</code> (the path to the table
element the value in <code>trailing_sep</code> is inherited from, or
<code>NA_character_</code> for label rows, which are not pathable).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Section dividers provide visual breaks between structural elements
of a table in row space. They are repeated to fill a full line of
the table and printed after the element (row, subtable) they are
associated with. Use a value of <code>" "</code> to display a blank line
section divider in the table. A section divider of
<code>NA_character_</code> indicates no visible divider (i.e., no line at all)
should be printed for that row or section when rendering the table.</p>
<p>When multiple section dividers would appear consecutively with no
rows between them (e.g., a subtable and its last row both having a
section divider set), only the <em>least specific</em> section divider
(the subtable divider in this example) will be displayed when
rendering the table. This is to avoid multiple non-informative
lines of consecutive dividers when there is nested splitting in
the row structure of a table.</p>
<p><code>section_div_at_path&lt;-</code> accepts a single path (which can include
the <code>'*'</code> wildcard), and a single string in <code>value</code> and sets the
section divider on the element(s) of <code>obj</code> that the path resolve
to.</p>
<p>For <code>section_div&lt;-</code> <code>value</code> should be a character vector. When you
want to only affect sections or splits, please use
<code>only_sep_sections</code> or provide a shorter vector than the number
of rows.  Ideally, the length of the vector should be less than
the number of splits with, eventually, the leaf-level,
i.e. <code>DataRow</code> where analyze results are. Note that if only one
value is inserted, only the first split will be affected.  If
<code>only_sep_sections = TRUE</code>, which is the default for
<code>section_div()</code> produced from the table construction, the section
divider will be set for all the splits and eventually analyses,
but not for the header or each row of the table. This can be set
with <code>header_section_div</code> in <code><a href="basic_table.html">basic_table()</a></code> or, eventually, with
<code>hsep</code> in <code><a href="build_table.html">build_table()</a></code>. If <code>only_sep_sections</code> is <code>FALSE</code>,
"section" dividers will be set for each row in the table
<em>including content and label rows</em>.</p>
<p>In <code>section_div&lt;-</code>, when <code>only_sep_sections</code> is <code>FALSE</code>
<em>all higher order section divs are removed, even when new value
for a row that they would apply to is <code>NA</code></em>.</p>
<p>A <code>section_div</code> -&gt; modify -&gt; <code>section_div&lt;-</code> workflow will
not work to modify section dividers declared in a layout (i.e.,
with <code>split_rows_by*(., section_div=)</code> or
<code>analyze(.,section_div=)</code>) after the table has been built. In
that case a row 'inherits' its section divider behavior from
the largest subtable that has a section divider set and for
which it is the final row. Instead it clears the higher-order
section dividers and sets an individual divider on each row
(setting <code>NA_character_</code> for rows that had no divider after them
when rendering). This means that if pruning is done after
the above process and the last row in a "section" is pruned,
the last remaining row <em>will not inherit the section's divider</em>
the way it would before the modification by <code>section_div&lt;-</code>.</p>
<p>Generally it is advisable to use <code>section_div_at_path&lt;-</code> - often
with <code>"*"</code> wildcards in the path - to modify
dividers declared in the layout instead of <code>section_div&lt;-</code>.
Alternatively, pruning should be done <em>before</em> calling
<code>section_div&lt;-</code> (when passing a a vector of length <code>nrow(tt)</code>),
when a script or function will do both operations on a table.</p>
<p>Setting section_dividers for rows which do not currently inherit
section divider behavior from a containing subtable will work
as expected.</p>
<p><code>section_div_info</code> returns a data.frame of section divider
info (a subset of the result of <code>make_row_df</code> when called on a
table tree or row object).  This information can be used to reset
section dividers at the correct path via <code>section_div_at_path</code> for
tables which have section dividers deriving from their layout (
which will be attached to subtables, rather than rows).</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Section dividers which would appear after the last row of the
table (ie those on the last row or last elementary subtable in
the table) are never printed when rendering the table.</p>
<p>when called on an individual row object, <code>section_div</code> and
<code>section_div&lt;-</code> get and set the trialing divider for that row.
In generally this is to be avoided; when manually constructing
row objects, the <code>trailing_section_div</code> argument can set the
trailing divider directly during creation.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="basic_table.html">basic_table()</a></code> parameter <code>header_section_div</code> and <code>top_level_section_div</code> for global
section dividers.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Data</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"really long thing its so "</span>, <span class="st">"long"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">3</span>, <span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fast_afun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"m"</span> <span class="op">=</span> <span class="fu"><a href="rcell.html">rcell</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"xx."</span><span class="op">)</span>, <span class="st">"m/2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="basic_table.html">basic_table</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="split_rows_by.html">split_rows_by</a></span><span class="op">(</span><span class="st">"cat"</span>, section_div <span class="op">=</span> <span class="st">"~"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="analyze.html">analyze</a></span><span class="op">(</span><span class="st">"value"</span>, afun <span class="op">=</span> <span class="va">fast_afun</span>, section_div <span class="op">=</span> <span class="st">" "</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build_table.html">build_table</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Getter</span></span></span>
<span class="r-in"><span><span class="fu">section_div</span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA  NA  "~" NA  NA  "~"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setter</span></span></span>
<span class="r-in"><span><span class="fu">section_div</span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">letters</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">tbl</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             all obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> really long thing its so           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            8   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                          5   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ccccccccccccccccccccccccccccccccccc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> long                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ddddddddddddddddddddddddddddddddddd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            2   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                         1.5  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># last letter can appear if there is another table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="rbind.html">rbind</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="va">tbl</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Modifying subtable (or row) names to ensure uniqueness among direct siblings</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [cat  -&gt; { cat, cat[2] }]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   To control table names use split_rows_by*(, parent_name =.) or  analyze(., table_names = .) when analyzing a single variable, or analyze(., parent_name = .) when analyzing multiple variables in a single call.FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             all obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> really long thing its so           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            8   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                          5   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ccccccccccccccccccccccccccccccccccc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> long                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ddddddddddddddddddddddddddddddddddd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            2   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                         1.5  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fffffffffffffffffffffffffffffffffff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> really long thing its so           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            8   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                          5   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ccccccccccccccccccccccccccccccccccc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> long                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ddddddddddddddddddddddddddddddddddd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            2   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                         1.5  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># header_section_div</span></span></span>
<span class="r-in"><span><span class="fu">header_section_div</span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"+"</span></span></span>
<span class="r-in"><span><span class="va">tbl</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             all obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +++++++++++++++++++++++++++++++++++</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> really long thing its so           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            8   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                          5   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ccccccccccccccccccccccccccccccccccc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> long                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ddddddddddddddddddddddddddddddddddd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m                            2   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m/2                         1.5  </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>rtables is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>





  </body></html>

