% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/colby_constructors.R
\name{analyze}
\alias{analyze}
\title{Generate Rows Analyzing Variables Across Columns}
\usage{
analyze(
  lyt,
  var,
  lbl = var,
  afun = rtab_inner,
  fmt = NULL,
  defrowlab = "",
  newtoplev = FALSE,
  inclNAs = FALSE,
  extrargs = list(),
  lblkids = TRUE
)
}
\arguments{
\item{lyt}{layout object pre-data used for tabulation}

\item{var}{string, variable name}

\item{lbl}{string, label, often variable label}

\item{afun}{function. Analysis function.}

\item{fmt}{format string for cells}

\item{defrowlab}{character vector. Default row labels for resulting analysis rows.}

\item{newtoplev}{boolean, Add this as a new top-level split  (defining a new subtable directly under root). Defaults to \code{FALSE}}

\item{inclNAs}{boolean. Should observations with NA in the \code{var} variable(s) be included when performing this analysis. Defaults to \code{FALSE}}

\item{extrargs}{list. Extra arguments to be passed to the tabulation function. Element position in thte list corresponds to the children of this split. Named elements in the child-specific lists are ignored if they do not match a formal argument of the ttabulation function.}

\item{lblkids}{logical. Should the children of this split have label rows. Defaults to \code{NA} which creates a label row only if the child has 0 content rows.}
}
\description{
Adding /analyzed variables/ to our table layout defines the primary tabulation to be performed. We do this by adding
calls to \code{analyze} and/or \code{\link{analyze_colvars}} into our layout pipeline. As with
adding further splitting, the tabulation will occur at the current/next level of nesting by default.
}
\examples{

l <- NULL \%>\%
    split_cols_by("ARM") \%>\% 
    analyze("AGE", afun = lstwrapx(summary) , fmt = "xx.xx")
l

build_table(l, DM)


l <- NULL \%>\% 
    split_cols_by("Species") \%>\%
    analyze(head(names(iris), -1), afun = function(x) {
        list(
            "mean / sd" = rcell(c(mean(x), sd(x)), format = "xx.xx (xx.xx)"),
            "range" = rcell(diff(range(x)), format = "xx.xx")
        )
    })
l
build_table(l, iris)
 
}
\author{
Gabriel Becker
}
