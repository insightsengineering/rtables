% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tmp_listings_stuff.R
\name{as_listing}
\alias{as_listing}
\alias{as_keycol}
\alias{is_keycol}
\alias{get_keycols}
\alias{listing_matrix_form}
\alias{main_title,MatrixPrintForm-method}
\alias{subtitles,MatrixPrintForm-method}
\alias{main_footer,MatrixPrintForm-method}
\alias{prov_footer,MatrixPrintForm-method}
\alias{listing_dispcols}
\alias{add_listing_dispcol}
\alias{listing_dispcols<-}
\alias{add_listing_col}
\title{Listing Shenanigans}
\usage{
as_listing(
  df,
  cols = key_cols,
  key_cols = names(df)[1],
  title = NULL,
  footer = NULL
)

as_keycol(vec)

is_keycol(vec)

get_keycols(df)

listing_matrix_form(df)

\S4method{main_title}{MatrixPrintForm}(obj)

\S4method{subtitles}{MatrixPrintForm}(obj)

\S4method{main_footer}{MatrixPrintForm}(obj)

\S4method{prov_footer}{MatrixPrintForm}(obj)

listing_dispcols(df)

add_listing_dispcol(df, new)

listing_dispcols(df) <- value

add_listing_col(df, name, fun = NULL, format = NULL)
}
\arguments{
\item{df}{listing_df. The listing to modify.}

\item{cols}{character. Names of columns (including but not limited to key columns)
which should be displayed when the listing is rendered.}

\item{key_cols}{character. Names of columns which should be treated as \emph{key columns}
when rendering the listing.}

\item{title}{character or NULL. Title for the listing. Currently ignored.}

\item{footer}{character or NULL. Footer for the listing. Currently ignored.}

\item{vec}{any. A column vector from a \code{listing_df}}

\item{obj}{ANY. The object for the accessor to access or modify}

\item{new}{character. Names of columns to be added to
the set of display columns.}

\item{value}{The new value}

\item{name}{character(1). Name of the existing or new column to be
displayed when the listing is rendered}

\item{fun}{function or NULL. A function which accepts \code{df} and
returns the vector for a new column, which is added to \code{df} as
\code{name}, or NULL if marking an existing column as
a listing column}

\item{format}{FormatSpec. A format specification (format string,
function, or sprintf format) for use when displaying the column
during rendering.}
}
\value{
A \code{listing_df} object, sorted by the key columns.

\code{df}, with \code{name} created (if necessary) and marked for
display during rendering.
}
\description{
Experimental. Not for production work. I mean it.
}
\examples{


dat <- ex_adae


lsting <- as_listing(dat[1:25,], key_cols = c("USUBJID", "AESOC")) \%>\%
    add_listing_col("AETOXGR") \%>\%
    add_listing_col("BMRKR1", format = "xx.x") \%>\%
    add_listing_col("AESER / AREL", fun = function(df) paste(df$AESER, df$AREL, sep = " / "))


mat <- listing_matrix_form(lsting)

cat(toString(mat))
}
