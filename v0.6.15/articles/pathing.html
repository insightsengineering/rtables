<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Pathing and Table Structure • rtables</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pathing and Table Structure">
<link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rtables</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.15</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/rtables.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/exploratory_analysis.html">Exploratory Analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guided Tour</h6></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate.html">A Guided Tour of rtables - Intermediate</a></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate_translating_shells.html">Intermediate rtables - Translating Shells To Layouts</a></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate_afun_reqs.html">Intermediate rtables - Identifying Required Analysis Behavior</a></li>
    <li><a class="dropdown-item" href="../articles/guided_intermediate_split_reqs.html">Intermediate rtables - Identifying Required Faceting Behavior</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Clinical Trials</h6></li>
    <li><a class="dropdown-item" href="../articles/clinical_trials.html">Example Clinical Trials Tables</a></li>
    <li><a class="dropdown-item" href="../articles/baseline.html">Comparing Against Baselines or Control</a></li>
    <li><a class="dropdown-item" href="../articles/ard_how_to.html">Generating QC-Ready Result Data Frames (ARDs) from Tables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Table Customization</h6></li>
    <li><a class="dropdown-item" href="../articles/custom_appearance.html">Customizing Appearance</a></li>
    <li><a class="dropdown-item" href="../articles/title_footer.html">Titles, Footers, and Referential Footnotes</a></li>
    <li><a class="dropdown-item" href="../articles/sorting_pruning.html">Pruning and Sorting Tables</a></li>
    <li><a class="dropdown-item" href="../articles/col_counts.html">Column Counts and Formats</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-developer-guide" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Developer Guide</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-developer-guide">
<li><a class="dropdown-item" href="../articles/dev-guide/dg_split_machinery.html">Split Machinery</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_tabulation.html">Tabulation</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_table_hierarchy.html">Table Hierarchy</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_debug_rtables.html">Debugging in {rtables} and Beyond</a></li>
    <li><a class="dropdown-item" href="../articles/dev-guide/dg_notes.html">Sparse Notes on {rtables} Internals</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports">
<li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul>
</li>
      <div><li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.15">v0.6.15</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.14">v0.6.14</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.13">v0.6.13</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.13-rc2">v0.6.13-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.13-rc1">v0.6.13-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.12">v0.6.12</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.12-rc2">v0.6.12-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.12-rc1">v0.6.12-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.11">v0.6.11</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.10">v0.6.10</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.9">v0.6.9</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.8">v0.6.8</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.7">v0.6.7</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.6">v0.6.6</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.6-rc1">v0.6.6-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.5">v0.6.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.4">v0.6.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.3">v0.6.3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.2">v0.6.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rtables/v0.6.1">v0.6.1</a>
</div>
</li></div>
</ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/rtables"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Pathing and Table Structure</h1>
                        <h4 data-toc-skip class="author">Gabriel
Becker</h4>
            
            <h4 data-toc-skip class="date">2025-12-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/rtables/blob/main/vignettes/pathing.Rmd" class="external-link"><code>vignettes/pathing.Rmd</code></a></small>
      <div class="d-none name"><code>pathing.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>rtables</code> models both the row- and column-structure of a
table as trees. These trees collectively reflect the layout instructions
used to declare the table’s structure. We can use this to describe
locations within the row-, column-, or cell-space of a table in a
semantically self-describing way. We call these semantically meaningful
locations <em>paths</em>.</p>
<p>A <em>path</em> is an ordered set of names which declares both a path
for traversing the tree structure for the relevant dimensions, and
consequently a corresponding subset of the table in that dimension.
<em>Column</em> paths may contain only split names and names of facets
generated from those splits. <em>Row</em> paths, can additionally
contain names of tables corresponding to <code>analysis</code> calls,
the <code>"@content"</code> directive which steps from a facet into the
table generated by <code>summarize_row_groups</code> containing its
marginal summary row(s), and names of individual rows.The location of
individual cells or rectangular groups of cells is then defined by a
row-path column-path pair.</p>
<p>As of <code>rtables</code> version <code>0.6.13</code>, any
structural element of a successfully built<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;In &lt;code&gt;rtables&lt;/code&gt; &lt;code&gt;0.6.13&lt;/code&gt; table
layouts which would result in non-unique paths in column space will fail
to build. This will likely change to be more in line with the behavior
in row space in a future release.&lt;/p&gt;"><sup>1</sup></a> table is guaranteed to
correspond to a unique row path, column path, or combination
thereof.</p>
<div class="section level3">
<h3 id="an-illustrative-example">An Illustrative Example<a class="anchor" aria-label="anchor" href="#an-illustrative-example"></a>
</h3>
<p>Consider a the table with non-trivial structure in both the column
and row dimensions:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/insightsengineering/rtables" class="external-link">rtables</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: formatters</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'formatters'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     %||%</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: magrittr</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'rtables'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:utils':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     str</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">keep_rc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ASIAN"</span>, <span class="st">"WHITE"</span><span class="op">)</span> <span class="co">## chosen for brevity</span></span>
<span></span>
<span><span class="va">afun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    Mean <span class="op">=</span> <span class="fu"><a href="../reference/rcell.html">rcell</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"xx.x"</span><span class="op">)</span>,</span>
<span>    Median <span class="op">=</span> <span class="fu"><a href="../reference/rcell.html">rcell</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"xx.x"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/basic_table.html">basic_table</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/split_cols_by.html">split_cols_by</a></span><span class="op">(</span><span class="st">"ARM"</span>, split_fun <span class="op">=</span> <span class="fu"><a href="../reference/split_funcs.html">keep_split_levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A: Drug X"</span>, <span class="st">"C: Combination"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/split_cols_by.html">split_cols_by</a></span><span class="op">(</span><span class="st">"SEX"</span>, split_fun <span class="op">=</span> <span class="fu"><a href="../reference/split_funcs.html">keep_split_levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_overall_col.html">add_overall_col</a></span><span class="op">(</span><span class="st">"All"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/split_rows_by.html">split_rows_by</a></span><span class="op">(</span><span class="st">"RACE"</span>, split_fun <span class="op">=</span> <span class="fu"><a href="../reference/split_funcs.html">keep_split_levels</a></span><span class="op">(</span><span class="va">keep_rc</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summarize_row_groups.html">summarize_row_groups</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/split_rows_by.html">split_rows_by</a></span><span class="op">(</span><span class="st">"STRATA1"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summarize_row_groups.html">summarize_row_groups</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/analyze.html">analyze</a></span><span class="op">(</span><span class="st">"AGE"</span>, afun <span class="op">=</span> <span class="va">afun</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/analyze.html">analyze</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, nested <span class="op">=</span> <span class="cn">FALSE</span>, show_labels <span class="op">=</span> <span class="st">"visible"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_table.html">build_table</a></span><span class="op">(</span><span class="va">lyt</span>, <span class="va">DM</span><span class="op">)</span></span>
<span><span class="va">tbl</span></span></code></pre></div>
<pre><code><span><span class="co">##                     A: Drug X              C: Combination                   </span></span>
<span><span class="co">##                  F            M            F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3    </span></span>
<span><span class="co">##     Median      32.0         34.5         34.0         34.5         33.0    </span></span>
<span><span class="co">##   C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        36.9         35.6         33.5         31.4         33.9    </span></span>
<span><span class="co">##     Median      36.0         37.0         34.0         31.0         34.0    </span></span>
<span><span class="co">## WHITE        8 (11.4%)    6 (11.8%)    8 (13.1%)    10 (14.7%)   46 (12.9%) </span></span>
<span><span class="co">##   A           2 (2.9%)     1 (2.0%)     1 (1.6%)     5 (7.4%)     15 (4.2%) </span></span>
<span><span class="co">##     Mean        34.0         45.0         35.0         32.8         33.3    </span></span>
<span><span class="co">##     Median      34.0         45.0         35.0         31.0         31.0    </span></span>
<span><span class="co">##   B           4 (5.7%)     3 (5.9%)     3 (4.9%)     1 (1.5%)     16 (4.5%) </span></span>
<span><span class="co">##     Mean        37.0         43.7         34.3         36.0         38.3    </span></span>
<span><span class="co">##     Median      38.5         44.0         35.0         36.0         38.0    </span></span>
<span><span class="co">##   C           2 (2.9%)     2 (3.9%)     4 (6.6%)     4 (5.9%)     15 (4.2%) </span></span>
<span><span class="co">##     Mean        35.5         44.0         38.5         35.0         39.1    </span></span>
<span><span class="co">##     Median      35.5         44.0         38.5         32.5         40.0    </span></span>
<span><span class="co">## BMRKR1                                                                      </span></span>
<span><span class="co">##   Mean          6.06         5.42         5.83         5.57         5.85</span></span></code></pre>
<p>We can get a first look at the row- and column-structure of our table
(if in different formats) with <code>table_structure</code> and
<code>col_info</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/table_structure.html">table_structure</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [TableTree] root</span></span>
<span><span class="co">##  [TableTree] RACE</span></span>
<span><span class="co">##   [TableTree] ASIAN [cont: 1 x 5]</span></span>
<span><span class="co">##    [TableTree] STRATA1</span></span>
<span><span class="co">##     [TableTree] A [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span>
<span><span class="co">##     [TableTree] B [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span>
<span><span class="co">##     [TableTree] C [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span>
<span><span class="co">##   [TableTree] WHITE [cont: 1 x 5]</span></span>
<span><span class="co">##    [TableTree] STRATA1</span></span>
<span><span class="co">##     [TableTree] A [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span>
<span><span class="co">##     [TableTree] B [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span>
<span><span class="co">##     [TableTree] C [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span>
<span><span class="co">##  [ElementaryTable] BMRKR1 (1 x 5)</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/col_accessors.html">col_info</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## An InstantiatedColumnInfo object</span></span>
<span><span class="co">## Columns:</span></span>
<span><span class="co">## A: Drug X (ARM) -&gt; F (SEX)</span></span>
<span><span class="co">## A: Drug X (ARM) -&gt; M (SEX)</span></span>
<span><span class="co">## C: Combination (ARM) -&gt; F (SEX)</span></span>
<span><span class="co">## C: Combination (ARM) -&gt; M (SEX)</span></span>
<span><span class="co">## All (all)</span></span></code></pre>
<p>We can use paths to declare intuitive substructures of our table. We
illustrate this using <code>[</code> which interpret character vector
indices as individual paths in the respective dimension.</p>
<p>Note that while we will use these paths to subset our table for
illustrative purposes, they are more often used to specify where
something should happen within the larger table, which we discuss in the
following section.</p>
<div class="section level4">
<h4 id="row-paths">Row Paths<a class="anchor" aria-label="anchor" href="#row-paths"></a>
</h4>
<p>Row paths, in isolation, describe horizontal slices of our table. We
can see all the valid row paths (including an optional “root” beginning
value which is technically correct but not necessary to include) via
<code>row_paths_summary</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rpsummry</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/row_paths_summary.html">row_paths_summary</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## rowname       node_class    path                                      </span></span>
<span><span class="co">## ——————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN         ContentRow    root, RACE, ASIAN, @content, ASIAN        </span></span>
<span><span class="co">##   A           ContentRow    root, RACE, ASIAN, STRATA1, A, @content, A</span></span>
<span><span class="co">##     Mean      DataRow       root, RACE, ASIAN, STRATA1, A, AGE, Mean  </span></span>
<span><span class="co">##     Median    DataRow       root, RACE, ASIAN, STRATA1, A, AGE, Median</span></span>
<span><span class="co">##   B           ContentRow    root, RACE, ASIAN, STRATA1, B, @content, B</span></span>
<span><span class="co">##     Mean      DataRow       root, RACE, ASIAN, STRATA1, B, AGE, Mean  </span></span>
<span><span class="co">##     Median    DataRow       root, RACE, ASIAN, STRATA1, B, AGE, Median</span></span>
<span><span class="co">##   C           ContentRow    root, RACE, ASIAN, STRATA1, C, @content, C</span></span>
<span><span class="co">##     Mean      DataRow       root, RACE, ASIAN, STRATA1, C, AGE, Mean  </span></span>
<span><span class="co">##     Median    DataRow       root, RACE, ASIAN, STRATA1, C, AGE, Median</span></span>
<span><span class="co">## WHITE         ContentRow    root, RACE, WHITE, @content, WHITE        </span></span>
<span><span class="co">##   A           ContentRow    root, RACE, WHITE, STRATA1, A, @content, A</span></span>
<span><span class="co">##     Mean      DataRow       root, RACE, WHITE, STRATA1, A, AGE, Mean  </span></span>
<span><span class="co">##     Median    DataRow       root, RACE, WHITE, STRATA1, A, AGE, Median</span></span>
<span><span class="co">##   B           ContentRow    root, RACE, WHITE, STRATA1, B, @content, B</span></span>
<span><span class="co">##     Mean      DataRow       root, RACE, WHITE, STRATA1, B, AGE, Mean  </span></span>
<span><span class="co">##     Median    DataRow       root, RACE, WHITE, STRATA1, B, AGE, Median</span></span>
<span><span class="co">##   C           ContentRow    root, RACE, WHITE, STRATA1, C, @content, C</span></span>
<span><span class="co">##     Mean      DataRow       root, RACE, WHITE, STRATA1, C, AGE, Mean  </span></span>
<span><span class="co">##     Median    DataRow       root, RACE, WHITE, STRATA1, C, AGE, Median</span></span>
<span><span class="co">## BMRKR1        LabelRow      root, BMRKR1                              </span></span>
<span><span class="co">##   Mean        DataRow       root, BMRKR1, Mean</span></span></code></pre>
<p>In addition to displaying a nicely formatted summary, this returns a
data.frame containing the same information in a programmatically
accessible form. In particular <code>path</code> is a list-valued column
whose values can be used directly as row paths:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/head_tail.html">head</a></span><span class="op">(</span><span class="va">rpsummry</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    label indent node_class         path</span></span>
<span><span class="co">## 1  ASIAN      0 ContentRow root, RA....</span></span>
<span><span class="co">## 2      A      1 ContentRow root, RA....</span></span>
<span><span class="co">## 3   Mean      2    DataRow root, RA....</span></span>
<span><span class="co">## 4 Median      2    DataRow root, RA....</span></span>
<span><span class="co">## 5      B      1 ContentRow root, RA....</span></span>
<span><span class="co">## 6   Mean      2    DataRow root, RA....</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="va">rpsummry</span><span class="op">$</span><span class="va">path</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##         A: Drug X      C: Combination         </span></span>
<span><span class="co">##          F      M        F         M      All </span></span>
<span><span class="co">## ——————————————————————————————————————————————</span></span>
<span><span class="co">## Mean   33.8    34.9    33.3      35.9     33.3</span></span></code></pre>
<p>The <code>c("RACE", "ASIAN")</code> row path refers to the horizontal
slice of our table containing all rows that represent analysis on Asian
patients. We see that we get the expected subtable:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"ASIAN"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##                     A: Drug X              C: Combination                   </span></span>
<span><span class="co">##                  F            M            F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3    </span></span>
<span><span class="co">##     Median      32.0         34.5         34.0         34.5         33.0    </span></span>
<span><span class="co">##   C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        36.9         35.6         33.5         31.4         33.9    </span></span>
<span><span class="co">##     Median      36.0         37.0         34.0         31.0         34.0</span></span></code></pre>
<p>Similarly we can get the groups summary and row for strata B of
Caucasian patients via</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"WHITE"</span>, <span class="st">"STRATA1"</span>, <span class="st">"B"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##                 A: Drug X          C: Combination               </span></span>
<span><span class="co">##               F          M          F          M          All   </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## B          4 (5.7%)   3 (5.9%)   3 (4.9%)   1 (1.5%)   16 (4.5%)</span></span>
<span><span class="co">##   Mean       37.0       43.7       34.3       36.0       38.3   </span></span>
<span><span class="co">##   Median     38.5       44.0       35.0       36.0       38.0</span></span></code></pre>
<p>Notice this is a strict subtable in the structural sense, which means
we do not get the ethnicity-level group summary here. We can see this
because our structure and our path now starts with <code>"B"</code>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/table_structure.html">table_structure</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"WHITE"</span>, <span class="st">"STRATA1"</span>, <span class="st">"B"</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [TableTree] root</span></span>
<span><span class="co">##  [TableTree] RACE</span></span>
<span><span class="co">##   [TableTree] WHITE</span></span>
<span><span class="co">##    [TableTree] STRATA1</span></span>
<span><span class="co">##     [TableTree] B [cont: 1 x 5]</span></span>
<span><span class="co">##      [ElementaryTable] AGE (2 x 5)</span></span></code></pre>
<p>As mentioned above, to “path into” a group summary we use the
<code>"@content"</code> directive:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"ASIAN"</span>, <span class="st">"@content"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##                A: Drug X              C: Combination                   </span></span>
<span><span class="co">##             F            M            F            M            All    </span></span>
<span><span class="co">## ———————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN   44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span></code></pre>
<p>We can path down to analysis tables and then individual rows via
their name, which unlike other structures tends to be identical to their
label:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"WHITE"</span>, <span class="st">"STRATA1"</span>, <span class="st">"B"</span>, <span class="st">"AGE"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## Mean     37.0    43.7    34.3      36.0     38.3</span></span>
<span><span class="co">## Median   38.5    44.0    35.0      36.0     38.0</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"WHITE"</span>, <span class="st">"STRATA1"</span>, <span class="st">"B"</span>, <span class="st">"AGE"</span>, <span class="st">"Median"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## Median   38.5    44.0    35.0      36.0     38.0</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="column-paths">Column Paths<a class="anchor" aria-label="anchor" href="#column-paths"></a>
</h4>
<p>Similar to row paths, we can get information about column paths via
<code>col_paths_summary</code>:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/row_paths_summary.html">col_paths_summary</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## label             path                       </span></span>
<span><span class="co">## —————————————————————————————————————————————</span></span>
<span><span class="co">## A: Drug X         ARM, A: Drug X             </span></span>
<span><span class="co">##   F               ARM, A: Drug X, SEX, F     </span></span>
<span><span class="co">##   M               ARM, A: Drug X, SEX, M     </span></span>
<span><span class="co">## C: Combination    ARM, C: Combination        </span></span>
<span><span class="co">##   F               ARM, C: Combination, SEX, F</span></span>
<span><span class="co">##   M               ARM, C: Combination, SEX, M</span></span>
<span><span class="co">## All               All, All</span></span></code></pre>
<p>We can then describe vertical slices of our table via these paths (we
use <code>head</code>, which subsets via absolute position to limit the
amount of output here):</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/head_tail.html">head</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"A: Drug X"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Note: method with signature 'VTableTree#missing#ANY' chosen for function '[',</span></span>
<span><span class="co">##  target signature 'TableTree#missing#character'.</span></span>
<span><span class="co">##  "VTableTree#ANY#character" would also be valid</span></span></code></pre>
<pre><code><span><span class="co">##                     A: Drug X       </span></span>
<span><span class="co">##                  F            M     </span></span>
<span><span class="co">## ————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)</span></span>
<span><span class="co">##     Mean        30.4         34.4   </span></span>
<span><span class="co">##     Median      30.0         33.5   </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%) </span></span>
<span><span class="co">##     Mean        33.8         34.9</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/head_tail.html">head</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"C: Combination"</span>, <span class="st">"SEX"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##              C: Combination</span></span>
<span><span class="co">##                    M       </span></span>
<span><span class="co">## ———————————————————————————</span></span>
<span><span class="co">## ASIAN          44 (64.7%)  </span></span>
<span><span class="co">##   A            16 (23.5%)  </span></span>
<span><span class="co">##     Mean          36.2     </span></span>
<span><span class="co">##     Median        33.0     </span></span>
<span><span class="co">##   B            12 (17.6%)  </span></span>
<span><span class="co">##     Mean          35.9</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/head_tail.html">head</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"All"</span>, <span class="st">"All"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                  All    </span></span>
<span><span class="co">## ————————————————————————</span></span>
<span><span class="co">## ASIAN        231 (64.9%)</span></span>
<span><span class="co">##   A          78 (21.9%) </span></span>
<span><span class="co">##     Mean        34.5    </span></span>
<span><span class="co">##     Median      33.0    </span></span>
<span><span class="co">##   B          75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.3</span></span></code></pre>
<p>Note that despite being displayed next to each-other, the last two
columns of our table have fundamentally different paths. This is due to
<code>add_overall_col</code> adding a <strong>non-nested</strong>
additional split rather than adding an additional implicit combination
level to the <code>ARM</code> split.</p>
</div>
</div>
<div class="section level3">
<h3 id="uniqueness-of-paths">Uniqueness of Paths<a class="anchor" aria-label="anchor" href="#uniqueness-of-paths"></a>
</h3>
<p>As of <code>rtables</code> <code>0.6.13</code>, rtables enforces
uniqueness of names within groups of direct sibling structures in both
row and column<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;In &lt;code&gt;rtables&lt;/code&gt; &lt;code&gt;0.6.13&lt;/code&gt; table
layouts which would result in non-unique paths in column space will fail
to build. This will likely change to be more in line with the behavior
in row space in a future release.&lt;/p&gt;"><sup>2</sup></a> space, thus guaranteeing unique paths to
every substructure in the table.</p>
<p>In row space, it does this by appending <code>[k]</code> to the names
of elements which would otherwise have an identical name to a previous
sibling, where k is a sequence of integers such that all siblings have
unique names. This affects the paths to these substructures<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;the result-data.frame / ARD machinery knows to remove
these uniquification artifacts, so these modifications to the names will
not be reflected there.&lt;/p&gt;"><sup>3</sup></a>, as we see
from the informative messages below:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lytdup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/basic_table.html">basic_table</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/analyze.html">analyze</a></span><span class="op">(</span><span class="st">"STRATA1"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/split_rows_by.html">split_rows_by</a></span><span class="op">(</span><span class="st">"STRATA1"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/analyze.html">analyze</a></span><span class="op">(</span><span class="st">"AGE"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tbldup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_table.html">build_table</a></span><span class="op">(</span><span class="va">lytdup</span>, <span class="va">DM</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Modifying subtable (or row) names to ensure uniqueness among direct siblings</span></span>
<span><span class="co">## [STRATA1  -&gt; { STRATA1, STRATA1[2] }]</span></span>
<span><span class="co">##   To control table names use split_rows_by*(, parent_name =.) or  analyze(., table_names = .) when analyzing a single variable, or analyze(., parent_name = .) when analyzing multiple variables in a single call.FALSE</span></span></code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbldup</span></span></code></pre></div>
<pre><code><span><span class="co">##          all obs</span></span>
<span><span class="co">## ————————————————</span></span>
<span><span class="co">## A          114  </span></span>
<span><span class="co">## B          119  </span></span>
<span><span class="co">## C          123  </span></span>
<span><span class="co">## A               </span></span>
<span><span class="co">##   Mean    33.74 </span></span>
<span><span class="co">## B               </span></span>
<span><span class="co">##   Mean    34.10 </span></span>
<span><span class="co">## C               </span></span>
<span><span class="co">##   Mean    34.79</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/row_paths_summary.html">row_paths_summary</a></span><span class="op">(</span><span class="va">tbldup</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## rowname    node_class    path                          </span></span>
<span><span class="co">## ———————————————————————————————————————————————————————</span></span>
<span><span class="co">## A          DataRow       root, STRATA1, A              </span></span>
<span><span class="co">## B          DataRow       root, STRATA1, B              </span></span>
<span><span class="co">## C          DataRow       root, STRATA1, C              </span></span>
<span><span class="co">## A          LabelRow      root, STRATA1[2], A           </span></span>
<span><span class="co">##   Mean     DataRow       root, STRATA1[2], A, AGE, Mean</span></span>
<span><span class="co">## B          LabelRow      root, STRATA1[2], B           </span></span>
<span><span class="co">##   Mean     DataRow       root, STRATA1[2], B, AGE, Mean</span></span>
<span><span class="co">## C          LabelRow      root, STRATA1[2], C           </span></span>
<span><span class="co">##   Mean     DataRow       root, STRATA1[2], C, AGE, Mean</span></span></code></pre>
<p>This allows us to path to all elements of the row structure, which
was not possible in previous (<code>&lt;0.6.13</code>)
<code>rtables</code> versions:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbldup</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"STRATA1"</span>, <span class="st">"A"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##     all obs</span></span>
<span><span class="co">## ———————————</span></span>
<span><span class="co">## A     114</span></span></code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbldup</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"STRATA1[2]"</span>, <span class="st">"A"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##          all obs</span></span>
<span><span class="co">## ————————————————</span></span>
<span><span class="co">## A               </span></span>
<span><span class="co">##   Mean    33.74</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="wildcards-in-paths">Wildcards In Paths<a class="anchor" aria-label="anchor" href="#wildcards-in-paths"></a>
</h3>
<p>Many, though not all, <code>rtables</code> functions which accept a
row or column paths support the <code>"*"</code> path wildcard. Where
supported, the wild-card will match any <em>name</em> present at that
step in the table structure, leading to (potentially) multiple matches.
Note <code>"*"</code> will never behave as the <code>"@content"</code>
directive, which must always be used explicitly.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span>, <span class="st">"STRATA1"</span>, <span class="st">"B"</span>, <span class="st">"AGE"</span>, <span class="st">"Median"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## Median   32.0    34.5    34.0      34.5     33.0</span></span>
<span><span class="co">## Median   38.5    44.0    35.0      36.0     38.0</span></span></code></pre>
<p>Multiple wildcards can appear in a path, with each wildcard applied
recursively within the full combined set of matches from all wildcards
earlier in the path.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span>, <span class="st">"STRATA1"</span>, <span class="st">"*"</span>, <span class="st">"AGE"</span>, <span class="st">"Median"</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## Median   30.0    33.5    38.0      33.0     33.0</span></span>
<span><span class="co">## Median   32.0    34.5    34.0      34.5     33.0</span></span>
<span><span class="co">## Median   36.0    37.0    34.0      31.0     34.0</span></span>
<span><span class="co">## Median   34.0    45.0    35.0      31.0     31.0</span></span>
<span><span class="co">## Median   38.5    44.0    35.0      36.0     38.0</span></span>
<span><span class="co">## Median   35.5    44.0    38.5      32.5     40.0</span></span></code></pre>
<p>Note that while the <code>[</code> method does support wildcards, we
are only using that to illustrate the behavior, as the tables resulting
from using wildcard paths with <code>[</code> are generally not going to
be very useful.</p>
<p>For (currently only) row paths, we can resolve a path with one or
more wildcards into a set of fully specified paths that match the path
in our table using the <code>tt_normalize_row_path</code> utility
function</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tt_row_path_exists.html">tt_normalize_row_path</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span>, <span class="st">"STRATA1"</span>, <span class="st">"*"</span>, <span class="st">"AGE"</span>, <span class="st">"Median"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $ASIAN.A</span></span>
<span><span class="co">## [1] "RACE"    "ASIAN"   "STRATA1" "A"       "AGE"     "Median" </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $ASIAN.B</span></span>
<span><span class="co">## [1] "RACE"    "ASIAN"   "STRATA1" "B"       "AGE"     "Median" </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $ASIAN.C</span></span>
<span><span class="co">## [1] "RACE"    "ASIAN"   "STRATA1" "C"       "AGE"     "Median" </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $WHITE.A</span></span>
<span><span class="co">## [1] "RACE"    "WHITE"   "STRATA1" "A"       "AGE"     "Median" </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $WHITE.B</span></span>
<span><span class="co">## [1] "RACE"    "WHITE"   "STRATA1" "B"       "AGE"     "Median" </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $WHITE.C</span></span>
<span><span class="co">## [1] "RACE"    "WHITE"   "STRATA1" "C"       "AGE"     "Median"</span></span></code></pre>
<p>We can also test whether a row path (including those containing
wildcards) exists in our table with <code>tt_row_path_exists</code></p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tt_row_path_exists.html">tt_row_path_exists</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span>, <span class="st">"STRATA1"</span>, <span class="st">"*"</span>, <span class="st">"AGE"</span>, <span class="st">"Median"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tt_row_path_exists.html">tt_row_path_exists</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span>, <span class="st">"STRATA1"</span>, <span class="st">"*"</span>, <span class="st">"FAKEFAKEFAKE"</span>, <span class="st">"Median"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<p>Note also that each <code>"*"</code> wildcard will only match <em>a
single step</em>, there is not currently a directive that searches for a
match anywhere in the relevant (sub)structure.</p>
<p>Thus we get</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tt_row_path_exists.html">tt_normalize_row_path</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"*"</span>, <span class="st">"Mean"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $BMRKR1</span></span>
<span><span class="co">## [1] "BMRKR1" "Mean"</span></span></code></pre>
<p>Despite there being other <code>"Mean"</code> elements elsewhere in
our row structure.</p>
<p>Though the above utilities don’t currently exist for column paths
(which are implemented differently in ways not relevant to end users),
generally those mechanisms which support wildcards in row space and also
accept a column path support wildcards for column paths as well:</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"*"</span>, <span class="st">"SEX"</span>, <span class="st">"F"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##              A: Drug X    C: Combination</span></span>
<span><span class="co">##                  F              F       </span></span>
<span><span class="co">## ————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)     40 (65.6%)  </span></span>
<span><span class="co">##   A          15 (21.4%)     15 (24.6%)  </span></span>
<span><span class="co">##     Mean        30.4           37.4     </span></span>
<span><span class="co">##     Median      30.0           38.0     </span></span>
<span><span class="co">##   B          16 (22.9%)     10 (16.4%)  </span></span>
<span><span class="co">##     Mean        33.8           33.3     </span></span>
<span><span class="co">##     Median      32.0           34.0     </span></span>
<span><span class="co">##   C          13 (18.6%)     15 (24.6%)  </span></span>
<span><span class="co">##     Mean        36.9           33.5     </span></span>
<span><span class="co">##     Median      36.0           34.0     </span></span>
<span><span class="co">## WHITE        8 (11.4%)      8 (13.1%)   </span></span>
<span><span class="co">##   A           2 (2.9%)       1 (1.6%)   </span></span>
<span><span class="co">##     Mean        34.0           35.0     </span></span>
<span><span class="co">##     Median      34.0           35.0     </span></span>
<span><span class="co">##   B           4 (5.7%)       3 (4.9%)   </span></span>
<span><span class="co">##     Mean        37.0           34.3     </span></span>
<span><span class="co">##     Median      38.5           35.0     </span></span>
<span><span class="co">##   C           2 (2.9%)       4 (6.6%)   </span></span>
<span><span class="co">##     Mean        35.5           38.5     </span></span>
<span><span class="co">##     Median      35.5           38.5     </span></span>
<span><span class="co">## BMRKR1                                  </span></span>
<span><span class="co">##   Mean          6.06           5.83</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="operating-on-tables-with-paths">Operating On Tables With Paths<a class="anchor" aria-label="anchor" href="#operating-on-tables-with-paths"></a>
</h3>
<p>In addition to subsetting via paths, which as we mentioned is likely
to be of limited utility, many aspects of a table can be selectively
inspected or changed using paths.</p>
<p>We will explore some of these throughout this section</p>
<div class="section level4">
<h4 id="column-counts">Column Counts<a class="anchor" aria-label="anchor" href="#column-counts"></a>
</h4>
<p>We can set (though, currently not get, an oversight that will likely
be remedied in a future version) the visibility on <em>a set of sibling
facets</em>.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/head_tail.html">head</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span>
<span><span class="fu">facet_colcounts_visible</span><span class="op">(</span><span class="va">tbl2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"A: Drug X"</span>, <span class="st">"SEX"</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="va">tbl2</span></span></code></pre></div>
<pre><code><span><span class="co">##                     A: Drug X                                               </span></span>
<span><span class="co">##                  F            M            C: Combination                   </span></span>
<span><span class="co">##                (N=70)       (N=51)         F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3</span></span></code></pre>
<p>NB: unlike virtually all functions which accept paths,
<code>facet_colcounts_visible</code> accepts the path to <strong><em>the
parent of the facets you’d like to change the colcount visibility
for</em></strong>. This is because direct siblings cannot have different
column count visibilities, so pathing to individual facets would lead to
an invalid table.</p>
<p>We can also get or modify the value of any particular column count
(note no s here):</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/facet_colcount.html">facet_colcount</a></span><span class="op">(</span><span class="va">tbl2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"A: Drug X"</span>, <span class="st">"SEX"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">tbl2</span></span></code></pre></div>
<pre><code><span><span class="co">##                     A: Drug X                                               </span></span>
<span><span class="co">##                  F            M            C: Combination                   </span></span>
<span><span class="co">##                (N=70)       (N=5)          F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3</span></span></code></pre>
<p>If we need to mix visibilty and non-visibilty of counts within a
direct sibling group the best we can do is setting one to NA, which will
leave a blank space there:</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/facet_colcount.html">facet_colcount</a></span><span class="op">(</span><span class="va">tbl2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"A: Drug X"</span>, <span class="st">"SEX"</span>, <span class="st">"F"</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NA_integer_</span></span>
<span><span class="va">tbl2</span></span></code></pre></div>
<pre><code><span><span class="co">##                     A: Drug X                                               </span></span>
<span><span class="co">##                  F            M            C: Combination                   </span></span>
<span><span class="co">##                             (N=5)          F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="section-dividers">Section Dividers<a class="anchor" aria-label="anchor" href="#section-dividers"></a>
</h4>
<p>Section dividers are character(s) that are printed in a line after a
particular row or subtable during rendering to differentiate sections of
a table (they are most often, and by default, ” ” to create a blank
line).</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl3</span> <span class="op">&lt;-</span> <span class="va">tbl</span></span>
<span></span>
<span><span class="fu"><a href="../reference/section_div.html">section_div_at_path</a></span><span class="op">(</span><span class="va">tbl3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"*"</span></span>
<span><span class="fu"><a href="../reference/section_div.html">section_div_at_path</a></span><span class="op">(</span><span class="va">tbl3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RACE"</span>, <span class="st">"*"</span>, <span class="st">"STRATA1"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"+"</span></span>
<span><span class="va">tbl3</span></span></code></pre></div>
<pre><code><span><span class="co">##                     A: Drug X              C: Combination                   </span></span>
<span><span class="co">##                  F            M            F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3    </span></span>
<span><span class="co">##     Median      32.0         34.5         34.0         34.5         33.0    </span></span>
<span><span class="co">## ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span>
<span><span class="co">##   C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        36.9         35.6         33.5         31.4         33.9    </span></span>
<span><span class="co">##     Median      36.0         37.0         34.0         31.0         34.0    </span></span>
<span><span class="co">## ****************************************************************************</span></span>
<span><span class="co">## WHITE        8 (11.4%)    6 (11.8%)    8 (13.1%)    10 (14.7%)   46 (12.9%) </span></span>
<span><span class="co">##   A           2 (2.9%)     1 (2.0%)     1 (1.6%)     5 (7.4%)     15 (4.2%) </span></span>
<span><span class="co">##     Mean        34.0         45.0         35.0         32.8         33.3    </span></span>
<span><span class="co">##     Median      34.0         45.0         35.0         31.0         31.0    </span></span>
<span><span class="co">##   B           4 (5.7%)     3 (5.9%)     3 (4.9%)     1 (1.5%)     16 (4.5%) </span></span>
<span><span class="co">##     Mean        37.0         43.7         34.3         36.0         38.3    </span></span>
<span><span class="co">##     Median      38.5         44.0         35.0         36.0         38.0    </span></span>
<span><span class="co">## ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span>
<span><span class="co">##   C           2 (2.9%)     2 (3.9%)     4 (6.6%)     4 (5.9%)     15 (4.2%) </span></span>
<span><span class="co">##     Mean        35.5         44.0         38.5         35.0         39.1    </span></span>
<span><span class="co">##     Median      35.5         44.0         38.5         32.5         40.0    </span></span>
<span><span class="co">## ****************************************************************************</span></span>
<span><span class="co">## BMRKR1                                                                      </span></span>
<span><span class="co">##   Mean          6.06         5.42         5.83         5.57         5.85</span></span></code></pre>
<p>Section dividers have a <em>least specific to most specific</em>
order of precedence, with only the least specific applicable section
divider displayed after any given row. See <code><a href="../reference/section_div.html">?section_div</a></code> for
more details.</p>
</div>
<div class="section level4">
<h4 id="sorting-within-an-rtables-table">Sorting Within An <code>rtables</code> Table<a class="anchor" aria-label="anchor" href="#sorting-within-an-rtables-table"></a>
</h4>
<p>Sorting rows in a table occurs in a path-specific way. See the
sorting section in the <a href="sorting_pruning.html#Sorting">pruning
and sorting vignette</a> for a detailed discussion of this.</p>
</div>
<div class="section level4">
<h4 id="extracting-and-modifying-values">Extracting And Modifying Values<a class="anchor" aria-label="anchor" href="#extracting-and-modifying-values"></a>
</h4>
<p>We saw that the <code>[</code> method interprets character indicies
as paths. Beyond that, the <code>value_at</code> and
<code>cell_values</code> getters and setters accept paths as well. See
the <a href="subsetting_tables.html">subsetting vignette</a>.</p>
</div>
<div class="section level4">
<h4 id="footnotes">Footnotes<a class="anchor" aria-label="anchor" href="#footnotes"></a>
</h4>
<p>Pathing can also be used to add referential footnotes to rows,
columns, or cells. This is discussed in the <a href="title_footer.html">title and footer</a> and <a href="subsetting_tables.html">subsetting</a> vignettes.</p>
</div>
</div>
<div class="section level3">
<h3 id="table-structure-and-technical-details">Table Structure And Technical Details<a class="anchor" aria-label="anchor" href="#table-structure-and-technical-details"></a>
</h3>
<p>Here we will go into a bit more detail of how layouts, table
structure, and pathing are related. This is largely for informational
purposes and most of it will not be directly relevant to end-users who
are simply creating tables.</p>
<div class="section level4">
<h4 id="row-structure">Row Structure<a class="anchor" aria-label="anchor" href="#row-structure"></a>
</h4>
<p><code>rtables</code> is row-dominant (as opposed to R’s
<code>data.frame</code>s which are column dominant). This means that
tables are modelled as a (generalized) collection of rows, rather than
columns. More accurately, a table is modeled as a collection of
children, which can have children, etc until ultimately all of the
“leaf” children in the defined tree-graph are individual rows.</p>
<p>We can see this using the <code>tree_children</code> function. The
table we’ve been working with throughout this vignette has two direct
children, one containing all of the structure generated underneath the
initial <code>"RACE"</code> split, and one containing the unnested
analysis of <code>"BMRKR1"</code>:</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tree_children.html">tree_children</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $RACE</span></span></code></pre>
<pre><code><span><span class="co">##                     A: Drug X              C: Combination                   </span></span>
<span><span class="co">##                  F            M            F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3    </span></span>
<span><span class="co">##     Median      32.0         34.5         34.0         34.5         33.0    </span></span>
<span><span class="co">##   C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        36.9         35.6         33.5         31.4         33.9    </span></span>
<span><span class="co">##     Median      36.0         37.0         34.0         31.0         34.0    </span></span>
<span><span class="co">## WHITE        8 (11.4%)    6 (11.8%)    8 (13.1%)    10 (14.7%)   46 (12.9%) </span></span>
<span><span class="co">##   A           2 (2.9%)     1 (2.0%)     1 (1.6%)     5 (7.4%)     15 (4.2%) </span></span>
<span><span class="co">##     Mean        34.0         45.0         35.0         32.8         33.3    </span></span>
<span><span class="co">##     Median      34.0         45.0         35.0         31.0         31.0    </span></span>
<span><span class="co">##   B           4 (5.7%)     3 (5.9%)     3 (4.9%)     1 (1.5%)     16 (4.5%) </span></span>
<span><span class="co">##     Mean        37.0         43.7         34.3         36.0         38.3    </span></span>
<span><span class="co">##     Median      38.5         44.0         35.0         36.0         38.0    </span></span>
<span><span class="co">##   C           2 (2.9%)     2 (3.9%)     4 (6.6%)     4 (5.9%)     15 (4.2%) </span></span>
<span><span class="co">##     Mean        35.5         44.0         38.5         35.0         39.1    </span></span>
<span><span class="co">##     Median      35.5         44.0         38.5         32.5         40.0    </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $BMRKR1</span></span></code></pre>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## BMRKR1                                          </span></span>
<span><span class="co">##   Mean   6.06    5.42    5.83      5.57     5.85</span></span></code></pre>
<p>For convenience we will define a <code>multi_step_children</code>
function which recursively retrieves children from the table, and then
from those children, etc. For information purposes, we will print the
“path step” taken each time, thus building up our path as we descend
using the class structure.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_step_children</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">tbl</span>, <span class="va">indices</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/lab_name.html" class="external-link">obj_name</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tree_children.html">tree_children</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">indices</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/lab_name.html" class="external-link">obj_name</a></span><span class="op">(</span><span class="va">ret</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tree_children.html">tree_children</a></span><span class="op">(</span><span class="va">ret</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">ret</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Thus we can see that the first of our table’s children has the path
<code>c("root", "RACE")</code> and has children for each ethnicity in
our table (recall the “root” path element is correct but optional):</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span></code></pre>
<pre><code><span><span class="co">## $ASIAN</span></span></code></pre>
<pre><code><span><span class="co">##                     A: Drug X              C: Combination                   </span></span>
<span><span class="co">##                  F            M            F            M            All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## ASIAN        44 (62.9%)   35 (68.6%)   40 (65.6%)   44 (64.7%)   231 (64.9%)</span></span>
<span><span class="co">##   A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        30.4         34.4         37.4         36.2         34.5    </span></span>
<span><span class="co">##     Median      30.0         33.5         38.0         33.0         33.0    </span></span>
<span><span class="co">##   B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%) </span></span>
<span><span class="co">##     Mean        33.8         34.9         33.3         35.9         33.3    </span></span>
<span><span class="co">##     Median      32.0         34.5         34.0         34.5         33.0    </span></span>
<span><span class="co">##   C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%) </span></span>
<span><span class="co">##     Mean        36.9         35.6         33.5         31.4         33.9    </span></span>
<span><span class="co">##     Median      36.0         37.0         34.0         31.0         34.0    </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $WHITE</span></span></code></pre>
<pre><code><span><span class="co">##                    A: Drug X             C: Combination                 </span></span>
<span><span class="co">##                  F           M           F           M           All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## WHITE        8 (11.4%)   6 (11.8%)   8 (13.1%)   10 (14.7%)   46 (12.9%)</span></span>
<span><span class="co">##   A          2 (2.9%)    1 (2.0%)    1 (1.6%)     5 (7.4%)    15 (4.2%) </span></span>
<span><span class="co">##     Mean       34.0        45.0        35.0         32.8         33.3   </span></span>
<span><span class="co">##     Median     34.0        45.0        35.0         31.0         31.0   </span></span>
<span><span class="co">##   B          4 (5.7%)    3 (5.9%)    3 (4.9%)     1 (1.5%)    16 (4.5%) </span></span>
<span><span class="co">##     Mean       37.0        43.7        34.3         36.0         38.3   </span></span>
<span><span class="co">##     Median     38.5        44.0        35.0         36.0         38.0   </span></span>
<span><span class="co">##   C          2 (2.9%)    2 (3.9%)    4 (6.6%)     4 (5.9%)    15 (4.2%) </span></span>
<span><span class="co">##     Mean       35.5        44.0        38.5         35.0         39.1   </span></span>
<span><span class="co">##     Median     35.5        44.0        38.5         32.5         40.0</span></span></code></pre>
<p>Each of these children under <code>"RACE"</code> is a subtable.</p>
<p>The children under our <code>BMRKR1</code> analysis, on the other
hand, are rows (in this case only one row, in fact):</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "BMRKR1"</span></span></code></pre>
<pre><code><span><span class="co">## $Mean</span></span>
<span><span class="co">## [DataRow indent_mod 0]: Mean   6.06   5.42   5.83   5.57   5.85</span></span></code></pre>
<p>Within each race subtable, we see a table corresponding to the
<code>STRATA1</code> split:</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "ASIAN"</span></span></code></pre>
<pre><code><span><span class="co">## $STRATA1</span></span></code></pre>
<pre><code><span><span class="co">##                   A: Drug X              C: Combination                  </span></span>
<span><span class="co">##                F            M            F            M           All    </span></span>
<span><span class="co">## —————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%)</span></span>
<span><span class="co">##   Mean        30.4         34.4         37.4         36.2         34.5   </span></span>
<span><span class="co">##   Median      30.0         33.5         38.0         33.0         33.0   </span></span>
<span><span class="co">## B          16 (22.9%)   8 (15.7%)    10 (16.4%)   12 (17.6%)   75 (21.1%)</span></span>
<span><span class="co">##   Mean        33.8         34.9         33.3         35.9         33.3   </span></span>
<span><span class="co">##   Median      32.0         34.5         34.0         34.5         33.0   </span></span>
<span><span class="co">## C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%)</span></span>
<span><span class="co">##   Mean        36.9         35.6         33.5         31.4         33.9   </span></span>
<span><span class="co">##   Median      36.0         37.0         34.0         31.0         34.0</span></span></code></pre>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "ASIAN"</span></span>
<span><span class="co">## [1] "STRATA1"</span></span></code></pre>
<pre><code><span><span class="co">## $A</span></span></code></pre>
<pre><code><span><span class="co">##                   A: Drug X              C: Combination                  </span></span>
<span><span class="co">##                F            M            F            M           All    </span></span>
<span><span class="co">## —————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## A          15 (21.4%)   12 (23.5%)   15 (24.6%)   16 (23.5%)   78 (21.9%)</span></span>
<span><span class="co">##   Mean        30.4         34.4         37.4         36.2         34.5   </span></span>
<span><span class="co">##   Median      30.0         33.5         38.0         33.0         33.0   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $B</span></span></code></pre>
<pre><code><span><span class="co">##                  A: Drug X              C: Combination                  </span></span>
<span><span class="co">##                F            M           F            M           All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## B          16 (22.9%)   8 (15.7%)   10 (16.4%)   12 (17.6%)   75 (21.1%)</span></span>
<span><span class="co">##   Mean        33.8        34.9         33.3         35.9         33.3   </span></span>
<span><span class="co">##   Median      32.0        34.5         34.0         34.5         33.0   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $C</span></span></code></pre>
<pre><code><span><span class="co">##                   A: Drug X              C: Combination                  </span></span>
<span><span class="co">##                F            M            F            M           All    </span></span>
<span><span class="co">## —————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## C          13 (18.6%)   15 (29.4%)   15 (24.6%)   16 (23.5%)   78 (21.9%)</span></span>
<span><span class="co">##   Mean        36.9         35.6         33.5         31.4         33.9   </span></span>
<span><span class="co">##   Median      36.0         37.0         34.0         31.0         34.0</span></span></code></pre>
<p>And finally within each strata facet is a table representing the
analysis of <code>AGE</code></p>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "ASIAN"</span></span>
<span><span class="co">## [1] "STRATA1"</span></span>
<span><span class="co">## [1] "B"</span></span></code></pre>
<pre><code><span><span class="co">## $AGE</span></span></code></pre>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## Mean     33.8    34.9    33.3      35.9     33.3</span></span>
<span><span class="co">## Median   32.0    34.5    34.0      34.5     33.0</span></span></code></pre>
<p>And within each of those <code>AGE</code> analysis tables, like our
<code>BMRKR1</code> top level analysis table, we have a collection of
rows:</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "ASIAN"</span></span>
<span><span class="co">## [1] "STRATA1"</span></span>
<span><span class="co">## [1] "B"</span></span>
<span><span class="co">## [1] "AGE"</span></span></code></pre>
<pre><code><span><span class="co">## $Mean</span></span>
<span><span class="co">## [DataRow indent_mod 0]: Mean   33.8   34.9   33.3   35.9   33.3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Median</span></span>
<span><span class="co">## [DataRow indent_mod 0]: Median   32.0   34.5   34.0   34.5   33.0</span></span></code></pre>
<p>Thus we see that <code>analyze</code> calls create tables (called
<code>ElementaryTable</code>s) containing individual rows as children,
while <code>split_rows_by</code> (and siblings) calls create a subtable
with children that are a table for each facet declared by the split
operation:</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## child is AGE analysis table within RACE-&gt;WHITE-&gt;STRATA1-&gt;A</span></span>
<span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "WHITE"</span></span>
<span><span class="co">## [1] "STRATA1"</span></span>
<span><span class="co">## [1] "A"</span></span></code></pre>
<pre><code><span><span class="co">## $AGE</span></span></code></pre>
<pre><code><span><span class="co">##           A: Drug X      C: Combination         </span></span>
<span><span class="co">##            F      M        F         M      All </span></span>
<span><span class="co">## ————————————————————————————————————————————————</span></span>
<span><span class="co">## Mean     34.0    45.0    35.0      32.8     33.3</span></span>
<span><span class="co">## Median   34.0    45.0    35.0      31.0     31.0</span></span></code></pre>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## children are individual rows of that AGE table</span></span>
<span><span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "WHITE"</span></span>
<span><span class="co">## [1] "STRATA1"</span></span>
<span><span class="co">## [1] "A"</span></span>
<span><span class="co">## [1] "AGE"</span></span></code></pre>
<pre><code><span><span class="co">## $Mean</span></span>
<span><span class="co">## [DataRow indent_mod 0]: Mean   34.0   45.0   35.0   32.8   33.3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Median</span></span>
<span><span class="co">## [DataRow indent_mod 0]: Median   34.0   45.0   35.0   31.0   31.0</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="label-and-group-summary-rows">Label And Group Summary Rows<a class="anchor" aria-label="anchor" href="#label-and-group-summary-rows"></a>
</h4>
<p>For technical and historical reasons, label rows and so-called
“content rows” (which are essentially marginal analyses at a non-leaf
point in the tree graph defined by the parent-child relationships
discussed above) are modeled separately.</p>
<p>Given a (sub)table, the content table (containing the content rows)
and label can be retrieved by <code>content_table</code> and
<code>obj_label</code>, respectively. Note that <code>obj_label</code>
returns a string, not a row, as the label row is an internal detail not
currently exposed.</p>
<p>Recall that our <code>multi_step_children</code> function returns
<em>the set of children at a location</em>, so we must subset one
additional time to arrive at a single child:</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tb</span> <span class="op">&lt;-</span> <span class="fu">multi_step_children</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="co">## second ie B strata</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "root"</span></span>
<span><span class="co">## [1] "RACE"</span></span>
<span><span class="co">## [1] "ASIAN"</span></span>
<span><span class="co">## [1] "STRATA1"</span></span></code></pre>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tb</span></span></code></pre></div>
<pre><code><span><span class="co">##                  A: Drug X              C: Combination                  </span></span>
<span><span class="co">##                F            M           F            M           All    </span></span>
<span><span class="co">## ————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## B          16 (22.9%)   8 (15.7%)   10 (16.4%)   12 (17.6%)   75 (21.1%)</span></span>
<span><span class="co">##   Mean        33.8        34.9         33.3         35.9         33.3   </span></span>
<span><span class="co">##   Median      32.0        34.5         34.0         34.5         33.0</span></span></code></pre>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/content_table.html">content_table</a></span><span class="op">(</span><span class="va">tb</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##           A: Drug X              C: Combination                  </span></span>
<span><span class="co">##         F            M           F            M           All    </span></span>
<span><span class="co">## —————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">## B   16 (22.9%)   8 (15.7%)   10 (16.4%)   12 (17.6%)   75 (21.1%)</span></span></code></pre>
<p>Typically (ie by default) label rows for (sub)tables that have a
non-empty content table are not visible when rendering, but they do
still exist:</p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/lab_name.html" class="external-link">obj_label</a></span><span class="op">(</span><span class="va">tb</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "B"</span></span></code></pre>
<p>Thus we see that:</p>
<ul>
<li>
<code>split_rows_by*</code> layout instructions create a single
subtable with the split name, which contains a facet for each value of
the split;</li>
<li>individual <code>analyze</code> instructions create a subtable
containing individual rows defined by the afun used;</li>
<li>repeated or multi-var <code>analyze</code> instructions create a
parent subtable with a child for each individual analyzed var, as above;
and</li>
<li>
<code>summarize_row_groups</code> create content tables on <em>the
children of</em> the table for that split</li>
</ul>
</div>
<div class="section level4">
<h4 id="column-structure">Column Structure<a class="anchor" aria-label="anchor" href="#column-structure"></a>
</h4>
<p>For largely historical reasons, and due to the fact that the
<code>rtables</code> object model is row-dominant, the exact way that
column structure is modeled is an arcane implementation detail not
useful to end users (much more so than the row structure explored
above). Thus we will largely gloss over it here.</p>
<p>For our purposes here it suffices to say that the analog of the
subtables representing split instructions are implicit in column space
after the first split, as opposed to explicit as we saw them to be in
row space. That said, the relationship between layout instructions and
resulting paths in the table remains valid and useful.</p>
<p>We can see this by looking again at our column paths summary:</p>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/row_paths_summary.html">col_paths_summary</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## label             path                       </span></span>
<span><span class="co">## —————————————————————————————————————————————</span></span>
<span><span class="co">## A: Drug X         ARM, A: Drug X             </span></span>
<span><span class="co">##   F               ARM, A: Drug X, SEX, F     </span></span>
<span><span class="co">##   M               ARM, A: Drug X, SEX, M     </span></span>
<span><span class="co">## C: Combination    ARM, C: Combination        </span></span>
<span><span class="co">##   F               ARM, C: Combination, SEX, F</span></span>
<span><span class="co">##   M               ARM, C: Combination, SEX, M</span></span>
<span><span class="co">## All               All, All</span></span></code></pre>
<p>Column paths have a more rigid structure than their row-based
counterparts. Because column space has no analog to analyze layout
instructions, All paths corresponding to facets or individual columns
come in the form of one or more pairs of the form (split name, split
value).</p>
<p>Virtually all useful column paths will be of the form above. The only
exception to this is when setting column count visibility to a set of
facets via <code>facet_colcounts_visible&lt;-</code>, for which we path
to the implicit parent structure whose children are the facets we are
interested in. We saw this in action in the previous section.</p>
<p>To summarize, as for row space, the relationship between layout
instructions and column paths as follows: column split instructions
create structures pathable via (split_name, split value/facet name)
pairs. Because there is no <code>analyze</code> analog for column
splitting, this paradigm is sufficient to understand and predict all
column paths.</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>rtables is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>





  </body>
</html>
